diff -Naur swm-1.3.4~/src/startswm ../src/startswm
--- swm-1.3.4~/src/startswm	2009-01-16 18:26:56.000000000 -0600
+++ ../src/startswm	2009-01-16 18:28:05.000000000 -0600
@@ -1,3 +1,2 @@
-swm >/tmp/swmlog 2>/tmp/swmlog &
-nautilus || coolicon &
-panel || rxvt || xterm
+swmbg /usr/share/swm/pixmaps/bg.xpm &
+swm &> /tmp/swmlog
diff -Naur swm-1.3.4~/src/swm.conf ../src/swm.conf
--- swm-1.3.4~/src/swm.conf	2009-01-16 18:26:56.000000000 -0600
+++ ../src/swm.conf	2009-01-16 18:28:05.000000000 -0600
@@ -1,7 +1,9 @@
 // GENERATED BY configure-swm, do not edit if you don't
 // really know what you are doing.
-// This is SWM default configuration
+// This is SWM configuration
 
+#define SHOWLAYERS
+#define KEYRAISE
 #define SIGNALS
 #define CURSORS
 // #define NORESIZEWARP
@@ -20,7 +22,7 @@
 #define STD_IO
 #define NUMBEROFDESKTOPS 4
 #define FONTS
-#define TITLEBARFONT "*monotype-*-12*" 
+#define TITLEBARFONT "*-Fixed-*-*-*-12-*" 
 #define LAYERS
 #define MAXIMIZE
 #define SHADE
diff -Naur swm-1.3.4~/swmbg/Makefile ../swmbg/Makefile
--- swm-1.3.4~/swmbg/Makefile	2009-01-16 18:26:56.000000000 -0600
+++ ../swmbg/Makefile	2009-01-16 18:28:05.000000000 -0600
@@ -1,4 +1,4 @@
-CFLAGS   = -O3 -Wall  
+CFLAGS   += -Wall
 
 # There should be nothing to edit below this line
 # -----------------------------------------------------------------------------
diff -Naur swm-1.3.4~/swmswitch/Makefile ../swmswitch/Makefile
--- swm-1.3.4~/swmswitch/Makefile	2009-01-16 18:26:56.000000000 -0600
+++ ../swmswitch/Makefile	2009-01-16 18:28:05.000000000 -0600
@@ -1,4 +1,4 @@
-CFLAGS   = -O3 -Wall  
+CFLAGS   += -Wall
 
 # There should be nothing to edit below this line
 # -----------------------------------------------------------------------------
diff -Naur swm-1.3.4~/swmtheme ../swmtheme
--- swm-1.3.4~/swmtheme	1969-12-31 18:00:00.000000000 -0600
+++ ../swmtheme	2009-01-16 18:27:56.000000000 -0600
@@ -0,0 +1,89 @@
+#!/bin/bash
+#
+# sWM theme changer for Arch Linux
+# Tim Yang <tdy@gmx.com>
+#
+#   Usage: swmtheme <theme name>
+#   Use the --list flag to show currently installed themes
+#   Themes must be located in /usr/share/swm/themes
+#   Root privileges are required to switch themes
+#   Changes will only take effect upon the next session
+#
+
+. /etc/rc.conf
+. /etc/rc.d/functions
+
+### Variables ###
+
+NEW_THEME=$1
+SWM_PATH=/usr/share/swm
+ROOT_UID=0
+E_BADPARAMS=65
+E_BADTHEME=66
+E_NOTROOT=67
+
+### Functions ###
+
+printhl2() {
+  printf "${C_H2}${PREFIX_HL} ${C_MAIN}$1${C_CLEAR}\n"
+}
+
+printhl2f() {
+  printf "${C_FAIL}${PREFIX_HL} ${C_MAIN}$1${C_CLEAR}\n"
+}
+
+swm_theme() {
+  printf "${C_OTHER}${PREFIX_REG} ${C_MAIN}Changing sWM theme... "
+  install -m644 $SWM_PATH/themes/$1/*.xpm $SWM_PATH/pixmaps
+  printf "${C_BKGD}$1${C_CLEAR}"
+  stat_done
+}
+
+swm_usage() {
+  printhl2 "Usage: swmtheme <theme name>"
+}
+
+swm_root() {
+  _rootmsg="Root privileges are required to switch themes"
+  [ -z "$1" ] && printhl2 "$_rootmsg" || printhl2f "$_rootmsg"
+}
+
+swm_help() {
+  swm_usage
+  printhl2 "Use the --list flag to show currently installed themes"
+  printhl2 "Themes must be located in $SWM_PATH/themes"
+  swm_root
+  printhl2 "Changes will only take effect upon the next session"
+}
+
+swm_notheme() {
+  swm_usage 
+  printhl2f "${C_BKGD}$1 ${C_MAIN}must be located in $SWM_PATH/themes"
+}
+
+swm_list() {
+  printhl2 "Currently installed themes:"
+  ls -1 $SWM_PATH/themes
+}
+
+### Main ###
+
+if [ $# -ne 1 ]; then
+  swm_usage
+  exit $E_BADPARAMS
+elif [ "--help" = "$NEW_THEME" -o "-h" = "$NEW_THEME" ]; then
+  swm_help
+  exit $?
+elif [ "--list" = "$NEW_THEME" -o "-l" = "$NEW_THEME" ]; then
+  swm_list
+  exit $?
+elif [ ! -d "$SWM_PATH/themes/$NEW_THEME" ]; then
+  swm_notheme $NEW_THEME
+  exit $E_BADTHEME
+elif [ "$UID" -ne "$ROOT_UID" ]; then
+  swm_root 0
+  exit $E_NOTROOT
+fi
+
+swm_theme $NEW_THEME
+exit $?
diff -Naur swm-1.3.4~/examples/.swm/button1 ../examples/.swm/button1
--- swm-1.3.4~/examples/.swm/button1	2009-01-16 18:26:56.000000000 -0600
+++ ../examples/.swm/button1	2009-01-16 18:28:05.000000000 -0600
@@ -1 +1 @@
-rxvt
+# <L-click> action
diff -Naur swm-1.3.4~/examples/.swm/button2 ../examples/.swm/button2
--- swm-1.3.4~/examples/.swm/button2	2009-01-16 18:26:56.000000000 -0600
+++ ../examples/.swm/button2	2009-01-16 18:28:05.000000000 -0600
@@ -1 +1,2 @@
-# execute what ever you like
+# <M-click> action
+swmswitch
diff -Naur swm-1.3.4~/examples/.swm/button3 ../examples/.swm/button3
--- swm-1.3.4~/examples/.swm/button3	2009-01-16 18:26:56.000000000 -0600
+++ ../examples/.swm/button3	2009-01-16 18:28:05.000000000 -0600
@@ -1 +1,2 @@
-swmswitch
+# <R-click> action
+xterm
diff -Naur swm-1.3.4~/examples/gnome/wm-properties/sWM.desktop ../examples/gnome/wm-properties/sWM.desktop
--- swm-1.3.4~/examples/gnome/wm-properties/sWM.desktop	2009-01-16 18:26:56.000000000 -0600
+++ ../examples/gnome/wm-properties/sWM.desktop	2009-01-16 18:28:05.000000000 -0600
@@ -1,29 +1,8 @@
 [Desktop Entry]
+Version=1.0
+Type=Application
 Name=sWM
-Name[az]=sWM
-Name[ca]=sWM
-Name[da]=sWM
-Name[de]=sWM
-Name[es]=sWM
-Name[fi]=sWM
-Name[fr]=sWM
-Name[gl]=sWM
-Name[hu]=sWM
-Name[ja]=sWM
-Name[ko]=sWM
-Name[no]=sWM
-Name[pl]=sWM
-Name[ro]=sWM
-Name[ru]=sWM
-Name[sk]=sWM
-Name[sl]=sWM
-Name[sv]=sWM
-Name[tr]=sWM
-Name[uk]=sWM
-Name[wa]=sWM
-Name[zh_TW]=sWM
+Comment=A small window manager with a low memory footprint
+TryExec=/usr/bin/swm
 Exec=swm
-TryExec=swm
-
-[Window Manager]
-SessionManaged=false
+Icon=swm.xpm
diff -Naur swm-1.3.4~/src/Makefile ../src/Makefile
--- swm-1.3.4~/src/Makefile	2009-01-16 18:26:56.000000000 -0600
+++ ../src/Makefile	2009-01-16 18:32:07.000000000 -0600
@@ -1,2 +1,94 @@
-all:
-	# Please use configure-swm to configure before doing make.
\ No newline at end of file
+#
+# Makefile for Arch Linux
+#
+
+INST     = install
+INST_BIN = $(INST) -m 0755
+INST_DAT = $(INST) -m 0644
+INST_DIR = $(INST_BIN) -d
+SYM_LINK = ln -sf
+
+CFLAGS   = -g -s -O3
+LDFLAGS  = -g -s -pipe
+
+CC       = gcc
+
+PREFIX   = /usr
+INCLPATH = -I$(PREFIX)/include
+LDPATH   = -L$(PREFIX)/lib
+
+BINDIR   = $(PREFIX)/bin
+CONFDIR  = /etc
+DATADIR  = $(PREFIX)/share
+MANDIR   = $(DATADIR)/man
+DOCDIR   = $(DATADIR)/doc/swm
+PIXMAPDIR= $(DATADIR)/swm
+
+THEMES   = colors dots mozilla msn whistling xp-blue xp-silver
+
+HEADERS  = swm.h eventHandler.c gnome.c init.c client.c tools.c 
+OBJS     = swm.o 
+
+all: clean swm swmswitch swmbg
+	rm -f *.o  
+
+swm: $(OBJS)
+	$(CC) $(LDFLAGS) $(DEFINES) $(LDPATH) -lX11 -lXpm $(OBJS) -o $@
+
+swmswitch:
+	@cd ../swmswitch && $(MAKE) XROOT=$(PREFIX)
+
+swmbg:
+	@cd ../swmbg && $(MAKE) XROOT=$(PREFIX)
+
+$(OBJS): %.o: %.c $(HEADERS)
+	$(CC) -c $(CFLAGS) $(DEFINES) $(INCLPATH) $<
+
+install: install-dirs
+	@echo "Installing executables..."
+	@$(INST_BIN) swm $(DESTDIR)$(BINDIR)
+	@$(INST_BIN) startswm $(DESTDIR)$(BINDIR)
+	@$(INST_BIN) ../swmswitch/swmswitch $(DESTDIR)$(BINDIR)
+	@$(INST_BIN) ../swmbg/swmbg $(DESTDIR)$(BINDIR)
+	@$(INST_BIN) ../swmtheme $(DESTDIR)$(BINDIR)
+	@echo "Installing manual pages..."
+	@$(INST_DAT) *.1x $(DESTDIR)$(MANDIR)/man1
+	@$(INST_DAT) ../swmswitch/*.1x $(DESTDIR)$(MANDIR)/man1
+	@$(INST_DAT) ../swmbg/*.1x $(DESTDIR)$(MANDIR)/man1
+	@echo "Installing pixmaps..."
+	@$(INST_DAT) ../swmbg/pixmaps/bg.xpm $(DESTDIR)$(PIXMAPDIR)/pixmaps
+	@$(INST_DAT) ../share/swm/pixmaps/*.xpm $(DESTDIR)$(PIXMAPDIR)/pixmaps
+	@$(INST_DAT) ../share/swm/pixmaps/*.xpm $(DESTDIR)$(PIXMAPDIR)/themes/default
+	@$(SYM_LINK) $(PIXMAPDIR)/pixmaps/bg.xpm $(DESTDIR)$(DATADIR)/pixmaps/swm.xpm
+	@for th in $(THEMES); do \
+		$(INST_DAT) ../../themes/$$th/* $(DESTDIR)$(PIXMAPDIR)/themes/$$th; \
+	 done
+	@find $(DESTDIR) -type f -name '*.xpm' \
+		-exec sed -i 's/static char/static const char/' {} \;
+	@echo "Installing documentation..."
+	@$(INST_DAT) ../doc/SWM-FAQ $(DESTDIR)$(DOCDIR)/FAQ
+	@$(INST_DAT) ../doc/AUTHORS $(DESTDIR)$(DOCDIR)/AUTHORS
+	@$(INST_DAT) ../doc/changelog $(DESTDIR)$(DOCDIR)/CHANGELOG
+	@$(INST_DAT) ../swmswitch/README $(DESTDIR)$(DOCDIR)/SWMSWITCH
+	@$(INST_DAT) ../swmbg/README.swmbg $(DESTDIR)$(DOCDIR)/SWMBG
+	@echo "Installing data files..."
+	@$(INST_DAT) ../examples/gnome/wm-properties/sWM.desktop \
+		$(DESTDIR)$(CONFDIR)/X11/sessions
+	@$(INST_BIN) ../examples/.swm/button* $(DESTDIR)$(CONFDIR)/xdg/swm
+
+install-dirs:
+	@echo "Installing directories under $(DESTDIR)..."
+	@$(INST_DIR) $(DESTDIR)$(BINDIR)
+	@$(INST_DIR) $(DESTDIR)$(CONFDIR)/{xdg/swm,X11/sessions}
+	@$(INST_DIR) $(DESTDIR)$(PIXMAPDIR)/pixmaps
+	@for th in $(THEMES) default; do \
+		$(INST_DIR) $(DESTDIR)$(PIXMAPDIR)/themes/$$th; \
+	 done
+	@$(INST_DIR) $(DESTDIR)$(DATADIR)/pixmaps
+	@$(INST_DIR) $(DESTDIR)$(MANDIR)/man1
+	@$(INST_DIR) $(DESTDIR)$(DOCDIR)
+
+clean:
+	rm -f *~ swm core *.o $(OBJS)
+
+.PHONY: all swmswitch swmbg install install-dirs clean
